<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
	"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
	<meta content="text/html; charset=utf-8" http-equiv="Content-Type" />

	<title>Module: Caricature::Interception</title>

	<link rel="stylesheet" href="../rdoc.css" type="text/css" media="screen" />

	<script src="../js/jquery.js" type="text/javascript"
		charset="utf-8"></script>
	<script src="../js/thickbox-compressed.js" type="text/javascript"
		charset="utf-8"></script>
	<script src="../js/quicksearch.js" type="text/javascript"
		charset="utf-8"></script>
	<script src="../js/darkfish.js" type="text/javascript"
		charset="utf-8"></script>

</head>
<body class="module">

	<div id="metadata">
		<div id="file-metadata">
			<div id="file-list-section" class="section">
				<h3 class="section-header">In Files</h3>
				<div class="section-body">
					<ul>
					
						<li><a href="../lib/caricature/isolator_rb.html?TB_iframe=true&amp;height=550&amp;width=785"
							class="thickbox" title="lib/caricature/isolator.rb">lib/caricature/isolator.rb</a></li>
					
					</ul>
				</div>
			</div>

			
		</div>

		<div id="class-metadata">

			<!-- Parent Class -->
			

			<!-- Namespace Contents -->
			

			<!-- Method Quickref -->
			
			<div id="method-list-section" class="section">
				<h3 class="section-header">Methods</h3>
				<ul class="link-list">
					
					<li><a href="#M000013">#was_told_to?</a></li>
					
					<li><a href="#M000011">#when_told_to</a></li>
					
				</ul>
			</div>
			

			<!-- Included Modules -->
			
		</div>

		<div id="project-metadata">
			
			
			<div id="fileindex-section" class="section project-section">
				<h3 class="section-header">Files</h3>
				<ul>
				
					<li class="file"><a href="../README.html">README</a></li>
				
					<li class="file"><a href="../README_markdown.html">README.markdown</a></li>
				
					<li class="file"><a href="../Rakefile.html">Rakefile</a></li>
				
					<li class="file"><a href="../VERSION.html">VERSION</a></li>
				
					<li class="file"><a href="../caricature_gemspec.html">caricature.gemspec</a></li>
				
					<li class="file"><a href="../doc/Caricature_html.html">Caricature.html</a></li>
				
					<li class="file"><a href="../doc/Caricature/ArgumentRecording_html.html">ArgumentRecording.html</a></li>
				
					<li class="file"><a href="../doc/Caricature/Expectation_html.html">Expectation.html</a></li>
				
					<li class="file"><a href="../doc/Caricature/ExpectationBuilder_html.html">ExpectationBuilder.html</a></li>
				
					<li class="file"><a href="../doc/Caricature/Expectations_html.html">Expectations.html</a></li>
				
					<li class="file"><a href="../doc/Caricature/Isolation_html.html">Isolation.html</a></li>
				
					<li class="file"><a href="../doc/Caricature/MethodCallRecorder_html.html">MethodCallRecorder.html</a></li>
				
					<li class="file"><a href="../doc/Caricature/MethodCallRecording_html.html">MethodCallRecording.html</a></li>
				
					<li class="file"><a href="../doc/Caricature/RecordingClrProxy_html.html">RecordingClrProxy.html</a></li>
				
					<li class="file"><a href="../doc/Caricature/RecordingProxy_html.html">RecordingProxy.html</a></li>
				
					<li class="file"><a href="../doc/Caricature/Verification_html.html">Verification.html</a></li>
				
					<li class="file"><a href="../doc/Class_html.html">Class.html</a></li>
				
					<li class="file"><a href="../doc/Module_html.html">Module.html</a></li>
				
					<li class="file"><a href="../doc/Object_html.html">Object.html</a></li>
				
					<li class="file"><a href="../doc/String_html.html">String.html</a></li>
				
					<li class="file"><a href="../doc/System_html.html">System.html</a></li>
				
					<li class="file"><a href="../doc/System/String_html.html">String.html</a></li>
				
					<li class="file"><a href="../doc/System/Type_html.html">Type.html</a></li>
				
					<li class="file"><a href="../doc/_/lib/caricature/isolation_rb_html.html">isolation_rb.html</a></li>
				
					<li class="file"><a href="../doc/created_rid.html">created.rid</a></li>
				
					<li class="file"><a href="../doc/index_html.html">index.html</a></li>
				
					<li class="file"><a href="../doc/js/darkfish_js.html">darkfish.js</a></li>
				
					<li class="file"><a href="../doc/js/jquery_js.html">jquery.js</a></li>
				
					<li class="file"><a href="../doc/js/quicksearch_js.html">quicksearch.js</a></li>
				
					<li class="file"><a href="../doc/js/thickbox-compressed_js.html">thickbox-compressed.js</a></li>
				
					<li class="file"><a href="../doc/lib/caricature/expectation_rb_html.html">expectation_rb.html</a></li>
				
					<li class="file"><a href="../doc/lib/caricature/isolation_rb_html.html">isolation_rb.html</a></li>
				
					<li class="file"><a href="../doc/lib/caricature/method_call_recorder_rb_html.html">method_call_recorder_rb.html</a></li>
				
					<li class="file"><a href="../doc/lib/caricature/proxy_rb_html.html">proxy_rb.html</a></li>
				
					<li class="file"><a href="../doc/lib/caricature/verification_rb_html.html">verification_rb.html</a></li>
				
					<li class="file"><a href="../doc/lib/core_ext/class_rb_html.html">class_rb.html</a></li>
				
					<li class="file"><a href="../doc/lib/core_ext/core_ext_rb_html.html">core_ext_rb.html</a></li>
				
					<li class="file"><a href="../doc/lib/core_ext/module_rb_html.html">module_rb.html</a></li>
				
					<li class="file"><a href="../doc/lib/core_ext/object_rb_html.html">object_rb.html</a></li>
				
					<li class="file"><a href="../doc/lib/core_ext/string_rb_html.html">string_rb.html</a></li>
				
					<li class="file"><a href="../doc/lib/core_ext/system/string_rb_html.html">string_rb.html</a></li>
				
					<li class="file"><a href="../doc/lib/core_ext/system/type_rb_html.html">type_rb.html</a></li>
				
					<li class="file"><a href="../doc/rdoc_css.html">rdoc.css</a></li>
				
					<li class="file"><a href="../spec/models/ClrModels_cs.html">ClrModels.cs</a></li>
				
				</ul>
			</div>
			

			<div id="classindex-section" class="section project-section">
				<h3 class="section-header">Class Index
					<span class="search-toggle"><img src="../images/find.png"
						height="16" width="16" alt="[+]"
						title="show/hide quicksearch" /></span></h3>
				<form action="#" method="get" accept-charset="utf-8" class="initially-hidden">
				<fieldset>
					<legend>Quicksearch</legend>
					<input type="text" name="quicksearch" value=""
						class="quicksearch-field" />
				</fieldset>
				</form>

				<ul class="link-list">
				
					<li><a href="../Caricature.html">Caricature</a></li>
				
					<li><a href="../Caricature/ArgumentRecording.html">Caricature::ArgumentRecording</a></li>
				
					<li><a href="../Caricature/ClrInterfaceIsolator.html">Caricature::ClrInterfaceIsolator</a></li>
				
					<li><a href="../Caricature/ClrIsolator.html">Caricature::ClrIsolator</a></li>
				
					<li><a href="../Caricature/Expectation.html">Caricature::Expectation</a></li>
				
					<li><a href="../Caricature/ExpectationBuilder.html">Caricature::ExpectationBuilder</a></li>
				
					<li><a href="../Caricature/ExpectationSyntax.html">Caricature::ExpectationSyntax</a></li>
				
					<li><a href="../Caricature/Expectations.html">Caricature::Expectations</a></li>
				
					<li><a href="../Caricature/Interception.html">Caricature::Interception</a></li>
				
					<li><a href="../Caricature/InterfaceIncludingClass.html">Caricature::InterfaceIncludingClass</a></li>
				
					<li><a href="../Caricature/InterfaceIncludingModule.html">Caricature::InterfaceIncludingModule</a></li>
				
					<li><a href="../Caricature/InterfaceUpTheWazoo.html">Caricature::InterfaceUpTheWazoo</a></li>
				
					<li><a href="../Caricature/InterfaceUpTheWazooClass.html">Caricature::InterfaceUpTheWazooClass</a></li>
				
					<li><a href="../Caricature/Isolation.html">Caricature::Isolation</a></li>
				
					<li><a href="../Caricature/Isolator.html">Caricature::Isolator</a></li>
				
					<li><a href="../Caricature/MethodCallRecorder.html">Caricature::MethodCallRecorder</a></li>
				
					<li><a href="../Caricature/MethodCallRecording.html">Caricature::MethodCallRecording</a></li>
				
					<li><a href="../Caricature/ModuleIncludingClass.html">Caricature::ModuleIncludingClass</a></li>
				
					<li><a href="../Caricature/PureRubyModule.html">Caricature::PureRubyModule</a></li>
				
					<li><a href="../Caricature/RubyIsolator.html">Caricature::RubyIsolator</a></li>
				
					<li><a href="../Caricature/RubyModuleIncludingModule.html">Caricature::RubyModuleIncludingModule</a></li>
				
					<li><a href="../Caricature/SubClassingClrClass.html">Caricature::SubClassingClrClass</a></li>
				
					<li><a href="../Caricature/SubclassingRubyClass.html">Caricature::SubclassingRubyClass</a></li>
				
					<li><a href="../Caricature/Verification.html">Caricature::Verification</a></li>
				
					<li><a href="../System.html">System</a></li>
				
					<li><a href="../System/String.html">System::String</a></li>
				
					<li><a href="../System/Type.html">System::Type</a></li>
				
					<li><a href="../Class.html">Class</a></li>
				
					<li><a href="../Module.html">Module</a></li>
				
					<li><a href="../Object.html">Object</a></li>
				
					<li><a href="../Soldier.html">Soldier</a></li>
				
					<li><a href="../String.html">String</a></li>
				
				</ul>
				<div id="no-class-search-results" style="display: none;">No matching classes.</div>
			</div>

			
		</div>
	</div>

	<div id="documentation">
		<h1 class="module">Caricature::Interception</h1>

		<div id="description">
			<p>
Groups the methods for interception together this is a mix-in for the
created isolations for classes
</p>

		</div>

		<!-- Constants -->
		

		<!-- Attributes -->
		

		<!-- Methods -->
		
		<div id="public-instance-method-details" class="method-section section">
			<h3 class="section-header">Public Instance Methods</h3>

		
			<div id="was-told-to--method" class="method-detail ">
				<a name="M000013"></a>

				<div class="method-heading">
				
					<span class="method-name">was_told_to?</span><span
						class="method-args">(method_name, &block)</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					<p>
Verifies whether the specified method has been called You can specify
constraints in the block
</p>
<p>
The most complex configuration you can make currently is one that is
constrained by arguments. This is most likely to be extended in the future
to allow for more complex verifications.
</p>
<p>
Example:
</p>
<p>
an_isolation.was_told_to?(:a_method) do |method_call|
</p>
<pre>
  method_call.with(3, &quot;a&quot;)
</pre>
<p>
end.should.be.true?
</p>
<p>
You will probably be using this method only when you&#8217;re interested in
whether a method has been called during the course of the test you&#8217;re
running.
</p>
					

					
					<div class="method-source-code"
						id="was-told-to--source">
<pre>
<span class="ruby-comment cmt"># File lib/caricature/isolator.rb, line 41</span>
    <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">was_told_to?</span>(<span class="ruby-identifier">method_name</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>)
      <span class="ruby-identifier">verification</span> = <span class="ruby-constant">Verification</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">method_name</span>, <span class="ruby-ivar">@___recorder___</span>)
      <span class="ruby-identifier">block</span>.<span class="ruby-identifier">call</span> <span class="ruby-identifier">verification</span> <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">block</span>.<span class="ruby-identifier">nil?</span>
      <span class="ruby-identifier">verification</span>
    <span class="ruby-keyword kw">end</span></pre>
					</div>
					
				</div>

				
			</div>

		
			<div id="when-told-to-method" class="method-detail ">
				<a name="M000011"></a>

				<div class="method-heading">
				
					<span class="method-name">when_told_to</span><span
						class="method-args">(method_name, &block)</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					<p>
Replaces the call to the proxy with the one you create with this method.
You can specify more specific criteria in the block to configure the
expectation.
</p>
<p>
Example:
</p>
<p>
an_isolation.when_told_to(:a_method) do |method_call|
</p>
<pre>
  method_call.with(3, &quot;a&quot;).return(5)
</pre>
<p>
end
</p>
<p>
You will most likely use this method when you want your stubs to return
something else than <tt>nil</tt> when they get called during the run of the
test they are defined in.
</p>
					

					
					<div class="method-source-code"
						id="when-told-to-source">
<pre>
<span class="ruby-comment cmt"># File lib/caricature/isolator.rb, line 18</span>
    <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">when_told_to</span>(<span class="ruby-identifier">method_name</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>)
      <span class="ruby-ivar">@___expectations___</span> <span class="ruby-operator">||=</span> <span class="ruby-constant">Expectations</span>.<span class="ruby-identifier">new</span>
      <span class="ruby-identifier">builder</span> = <span class="ruby-constant">ExpectationBuilder</span>.<span class="ruby-identifier">new</span> <span class="ruby-identifier">method_name</span>, <span class="ruby-ivar">@___recorder___</span>
      <span class="ruby-identifier">block</span>.<span class="ruby-identifier">call</span> <span class="ruby-identifier">builder</span> <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">block</span>.<span class="ruby-identifier">nil?</span>
      <span class="ruby-identifier">exp</span> = <span class="ruby-identifier">builder</span>.<span class="ruby-identifier">build</span>
      <span class="ruby-ivar">@___expectations___</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">exp</span>
      <span class="ruby-identifier">exp</span>
    <span class="ruby-keyword kw">end</span></pre>
					</div>
					
				</div>

				
			</div>

		
		</div>
	

	</div>


	<div id="rdoc-debugging-section-dump" class="debugging-section">
	
		<p>Disabled; run with --debug to generate this.</p>
	
	</div>

	<div id="validator-badges">
		<p><small><a href="http://validator.w3.org/check/referer">[Validate]</a></small></p>
		<p><small>Generated with the <a href="http://deveiate.org/projects/Darkfish-Rdoc/">Darkfish
			Rdoc Generator</a> 1.1.6</small>.</p>
	</div>

</body>
</html>

